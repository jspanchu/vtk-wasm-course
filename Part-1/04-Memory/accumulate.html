<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
</head>

<body>
  <script>
    const memory = new WebAssembly.Memory({ initial: 10, maximum: 100 });
    WebAssembly.instantiateStreaming(fetch("memory.wasm"), { js: { mem: memory } })
      .then(wasmObject => {
        const summands = new DataView(memory.buffer);
        for (let i = 0; i < 10; i++) {
          summands.setUint32(i * 4, i, true);
        }
        // accumulate sum through 0...9
        const sum = wasmObject.instance.exports.accumulate(0, 10);
        console.log(sum);
      });
  </script>
</body>

</html>
